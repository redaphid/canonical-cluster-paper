<!DOCTYPE html>
<html>
<header>
  <style>
    body {
      font-family: sans-serif;
      font-size: 16px;
    }

  </style>
  <script type="module">
    import { h, Component, render } from 'https://esm.sh/preact'
    import htm from 'https://esm.sh/htm'
    // fetch resume
    const resume = await fetch('resume.json').then(res => res.json())
    const html = htm.bind(h)

    const App = (props) => {
      return html`
          <article>
            <Basics>
              <h1>${resume.basics.name}</h1>
              <h2>${resume.basics.label}</h2>
              <p>${resume.basics.email}</p>
              <p>${resume.basics.phone}</p>
              <p>${resume.basics.website}</p>
            </Basics>
            <Profiles>
              <h3>Profiles</h3>
              <ul>
                ${resume.basics.profiles.map(profile => html`
                  <li>
                    <a href=${profile.url}>${profile.network}</a>
                  </li>
                `)}
              </ul>
              </Profiles>
            <Work>
              <h3>Work</h3>
              <ul>
                ${resume.work.map(work => html`
                  <li>
                    <h4>${work.company}</h4>
                    <p>${work.position}</p>
                    <p>${work.website}</p>
                    <p>${work.startDate} - ${work.endDate}</p>
                    <p>${work.summary}</p>
                    <p>${work.highlights}</p>
                  </li>
                `)}
              </ul>
            </Work>
            <Education>
              <h3>Education</h3>
              <ul>
                ${resume.education.map(education => html`
                  <li>
                    <h4>${education.institution}</h4>
                    <p>${education.area}</p>
                    <p>${education.studyType}</p>
                    <p>${education.startDate} - ${education.endDate}</p>
                    <p>${education.gpa}</p>
                    <p>${education.courses}</p>
                  </li>
                `)}
              </ul>
              </Education>
            <Skills>
              <h3>Skills</h3>
              <ul>
                ${resume.skills.map(skill => html`
                  <li>
                    <h4>${skill.name}</h4>
                    <p>${skill.level}</p>
                    <p>${skill.keywords}</p>
                  </li>
                `)}
              </ul>
          </article>

          `
    }

    render(html`<${App} name="World" />`, document.body)
  </script>
</header>

<body></body>

</html>
